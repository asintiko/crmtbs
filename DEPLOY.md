# Инструкция по деплою на сервер

## Автоматический деплой (рекомендуется)

### Вариант 1: С использованием Posh-SSH (автоматическая загрузка с паролем)

```powershell
.\deploy-auto.ps1
```

Этот скрипт:
1. Установит модуль Posh-SSH (если не установлен)
2. Соберет приложение
3. Найдет exe файл
4. Автоматически загрузит на сервер с использованием пароля

### Вариант 2: Полный деплой с проверками

```powershell
.\deploy-full.ps1
```

Этот скрипт:
1. Соберет приложение
2. Найдет exe файл
3. Проверит доступность сервера
4. Загрузит файл (может запросить пароль)

### Вариант 3: Через npm скрипт

```bash
npm run deploy
```

## Ручной деплой

### 1. Сборка приложения

```bash
npm run build:win
```

### 2. Поиск собранного файла

Собранный exe файл будет находиться в папке `release/`:
- `Inventory Desktop-Windows-0.1.0-Setup.exe` (установщик)
- `Inventory Desktop-Windows-0.1.0-portable.exe` (portable версия)

### 3. Загрузка на сервер

#### Вариант A: Используя scp (требует пароль)

```bash
scp -P 1122 "release/Inventory Desktop-Windows-0.1.0-Setup.exe" root@144.31.17.123:/tmp/inventory-desktop.exe
```

При запросе пароля введите: `PiZ3ED3y6GC5`

#### Вариант B: Используя WinSCP

1. Откройте WinSCP
2. Создайте новое соединение:
   - Хост: `144.31.17.123`
   - Порт: `1122`
   - Пользователь: `root`
   - Пароль: `PiZ3ED3y6GC5`
3. Подключитесь
4. Перетащите exe файл в `/tmp/inventory-desktop.exe`

#### Вариант C: Используя FileZilla

1. Откройте FileZilla
2. Создайте новое соединение (SFTP):
   - Хост: `sftp://144.31.17.123`
   - Порт: `1122`
   - Пользователь: `root`
   - Пароль: `PiZ3ED3y6GC5`
3. Подключитесь
4. Загрузите exe файл в `/tmp/inventory-desktop.exe`

## Данные для подключения

- **IP адрес:** 144.31.17.123
- **Порт:** 1122
- **Пользователь:** root
- **Пароль:** PiZ3ED3y6GC5
- **Удаленный путь:** /tmp/inventory-desktop.exe

## Проверка после деплоя

После загрузки файла на сервер, подключитесь по SSH и проверьте:

```bash
ssh -p 1122 root@144.31.17.123
ls -lh /tmp/inventory-desktop.exe
```

## Установка на сервере

Если нужно установить приложение на сервере (для Linux):

```bash
# Переместить в нужную директорию
sudo mv /tmp/inventory-desktop.exe /opt/inventory-desktop/

# Сделать исполняемым (если portable версия)
chmod +x /opt/inventory-desktop/inventory-desktop.exe
```

## Примечания

- Для автоматической загрузки с паролем рекомендуется использовать скрипт `deploy-auto.ps1`
- Убедитесь, что порт 1122 открыт в файрволе
- Для безопасности рекомендуется настроить SSH ключи вместо пароля



